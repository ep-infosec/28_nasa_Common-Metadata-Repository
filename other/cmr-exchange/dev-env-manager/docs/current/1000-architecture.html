<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>Architecture</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/atom-one-dark.css" /><script type="text/javascript" src="highlight/highlight.pack.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with the <a href="https://github.com/clojang/codox-theme">Clojang UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">CMR D.E.M.</span> <span class="project-version">0.0.4-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="0000-background.html"><div class="inner"><span>Background</span></div></a></li><li class="depth-1 "><a href="0010-problem-statement.html"><div class="inner"><span> • Problem Statement</span></div></a></li><li class="depth-1 "><a href="0020-high-level-requirements.html"><div class="inner"><span> • High-level Requirements</span></div></a></li><li class="depth-1 "><a href="0030-design-goals.html"><div class="inner"><span> • Project Design Goals</span></div></a></li><li class="depth-1 "><a href="0040-areas-to-explore.html"><div class="inner"><span> • Areas to Explore</span></div></a></li><li class="depth-1  current"><a href="1000-architecture.html"><div class="inner"><span>Architecture</span></div></a></li><li class="depth-1 "><a href="2000-setup.html"><div class="inner"><span>Setup</span></div></a></li><li class="depth-1 "><a href="3000-usage.html"><div class="inner"><span>Usage</span></div></a></li><li class="depth-1 "><a href="3010-startup-shutdown.html"><div class="inner"><span> • Startup &amp; Shutdown</span></div></a></li><li class="depth-1 "><a href="3020-service-processes.html"><div class="inner"><span> • Inspecting Process-based Services</span></div></a></li><li class="depth-1 "><a href="3025-service-dockers.html"><div class="inner"><span> • Inspecting Docker-based Services</span></div></a></li><li class="depth-1 "><a href="3030-messaging.html"><div class="inner"><span> • Simple Messaging Between Components</span></div></a></li><li class="depth-1 "><a href="3040-state.html"><div class="inner"><span> • Working with State</span></div></a></li><li class="depth-1 "><a href="9999-versions.html"><div class="inner"><span>API Docs (All Versions)</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cmr</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dev</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>env</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>manager</span></div></div></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>components</span></div></div></li><li class="depth-6"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>checks</span></div></div></li><li class="depth-7"><a href="cmr.dev.env.manager.components.checks.health.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>health</span></div></a></li><li class="depth-6"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>dem</span></div></div></li><li class="depth-7 branch"><a href="cmr.dev.env.manager.components.dem.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-7 branch"><a href="cmr.dev.env.manager.components.dem.logging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logging</span></div></a></li><li class="depth-7 branch"><a href="cmr.dev.env.manager.components.dem.messaging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messaging</span></div></a></li><li class="depth-7 branch"><a href="cmr.dev.env.manager.components.dem.subscribers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>subscribers</span></div></a></li><li class="depth-7"><a href="cmr.dev.env.manager.components.dem.timer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>timer</span></div></a></li><li class="depth-6 branch"><a href="cmr.dev.env.manager.components.docker.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>docker</span></div></a></li><li class="depth-6 branch"><a href="cmr.dev.env.manager.components.process.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>process</span></div></a></li><li class="depth-6"><a href="cmr.dev.env.manager.components.system.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>system</span></div></a></li><li class="depth-5 branch"><a href="cmr.dev.env.manager.config.html"><div class="inner"><span class="tree" style="top: -362px;"><span class="top" style="height: 371px;"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-5 branch"><a href="cmr.dev.env.manager.health.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>health</span></div></a></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messaging</span></div></div></li><li class="depth-6 branch"><a href="cmr.dev.env.manager.messaging.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-6"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-7"><a href="cmr.dev.env.manager.messaging.impl.pubsub.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pubsub</span></div></a></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>process</span></div></div></li><li class="depth-6 branch"><a href="cmr.dev.env.manager.process.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-6 branch"><a href="cmr.dev.env.manager.process.docker.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>docker</span></div></a></li><li class="depth-6"><a href="cmr.dev.env.manager.process.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-5"><a href="cmr.dev.env.manager.repl.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-6"><a href="cmr.dev.env.manager.repl.transitions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transitions</span></div></a></li><li class="depth-5 branch"><a href="cmr.dev.env.manager.timing.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>timing</span></div></a></li><li class="depth-5"><a href="cmr.dev.env.manager.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#architecture" name="architecture"></a>Architecture</h1>
<h2><a href="#overview" name="overview"></a>Overview</h2>
<h3><a href="#over-arching-principles" name="over-arching-principles"></a>Over-arching Principles</h3>
<p>This project has been implemented to keep APIs, services, general system-level capabilities, and underlying functionality very cleanly separated. No mixing of concepts. No over-loading of responsibilities.</p>
<p>This is accomplished in the mind through discipline, as well as socially by feedback from other developers. This is accomplished in the code itself through the use of simple functions and components to do their one declared job. Simply put, if additional features are needed, separate functions and/or components are created.</p>
<h3><a href="#a-peek-at-the-separation-of-concerns" name="a-peek-at-the-separation-of-concerns"></a>A Peek at the Separation of Concerns</h3>
<p>The architecture of the CMR D.E.M. reflects a separation of concerns split along the following lines:</p>
<ul>
  <li><strong>REPL</strong> - A minimal set of namespaces is loaded into the REPL
    <ul>
      <li>The REPL environment is also where system-wide state is managed</li>
      <li>Additionally, convenience functions are provided for managing elements in  other levels of the architecture</li>
    </ul>
  </li>
  <li><strong>Components</strong> - Running code is managed in a “system” using “components”,  as defined by the Component library
    <ul>
      <li>Supporting D.E.M. services are defined as system components</li>
      <li>CMR services are managed in a specialized system component that spawns  the service in question in a separate OS process</li>
    </ul>
  </li>
  <li><strong>Processes</strong> - <code>lein</code> is used to start all CMR service processes</li>
  <li><strong>Configuration</strong> - The D.E.M. <code>project.clj</code> file is used for configuration  of all CMR service processes</li>
</ul>
<p>For current CMR developers, use of this development environment should be seamless: the only requirements are that:</p>
<ul>
  <li>Your CMR repository clone directory be named <code>cmr</code>; and,</li>
  <li>Your CMR repository clone directory be a sibling directory to the clone of  the D.E.M. repository.</li>
</ul>
<p>For more information, see the <a href="2000-setup.html">setup docs</a>.</p>
<h3><a href="#diagram" name="diagram"></a>Diagram</h3>
<p>TBD</p>
<h3><a href="#benefits" name="benefits"></a>Benefits</h3>
<p>The approach used by this architecture fulfills the following development vision:</p>
<ul>
  <li>knowing each component provides the contributor with an understanding  of most of the system</li>
  <li>knowing how each component is connected provides the remaining  understanding</li>
  <li>this makes the following much, much easier:
    <ul>
      <li>developing new features</li>
      <li>debugging existing ones</li>
      <li>refactoring some or all of the project is actually possible (and  should actually be easy to do)</li>
    </ul>
  </li>
  <li>no hidden anything:
    <ul>
      <li>no implicit code or magic</li>
      <li>no tribal knowledge/coding by convention</li>
    </ul>
  </li>
</ul>
<h2><a href="#repl" name="repl"></a>REPL</h2>
<p>TBD</p>
<h2><a href="#components" name="components"></a>Components</h2>
<p>TBD</p>
<h2><a href="#processes" name="processes"></a>Processes</h2>
<p>TBD</p>
<h2><a href="#configuration" name="configuration"></a>Configuration</h2>
<p>TBD</p></div></div></div></body></html>